<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿçƒè½¨è¿¹ Â· VisionFocus Hours | ä½ çš„ä¸ªäººæˆé•¿æ˜Ÿç³»</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --night-blue: #0A0A1A;
            --star-color: #FFD93D;
            --planet-1: #FF6B8B;
            --planet-2: #4ECDC4;
            --planet-3: #45B7D1;
            --planet-4: #96CEB4;
            --planet-5: #FFEAA7;
            --accent-pink: #FFB6C1;
            --text-light: #F0F0F0;
            --orbit-color: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--night-blue);
            color: var(--text-light);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* å®‡å®™èƒŒæ™¯ */
        .universe-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(106, 90, 205, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 107, 139, 0.1) 0%, transparent 20%);
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 4s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        /* ç®€çº¦å¤´éƒ¨ */
        .simple-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 26, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--star-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            font-size: 1.5rem;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: transparent;
            color: var(--text-light);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .nav-btn:hover {
            border-color: var(--star-color);
            color: var(--star-color);
        }

        /* ä¸»å®¹å™¨ */
        .trajectory-container {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 100px 20px 50px;
            position: relative;
            z-index: 1;
        }

        /* æ ‡é¢˜åŒº */
        .title-section {
            text-align: center;
            margin-bottom: 40px;
            max-width: 800px;
        }

        .main-title {
            font-size: 3.5rem;
            color: var(--star-color);
            margin-bottom: 15px;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 300;
        }

        /* æ˜Ÿç›˜ä¸»è§†å›¾ */
        .star-chart {
            width: 100%;
            max-width: 1200px;
            height: 600px;
            position: relative;
            margin: 0 auto;
        }

        /* è½¨é“ç³»ç»Ÿ */
        .orbit-system {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
        }

        .orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            border: 1px solid var(--orbit-color);
            animation: orbit-rotate linear infinite;
        }

        .orbit-label {
            position: absolute;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }

        /* æ˜Ÿçƒ */
        .planet {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.5s;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
        }

        .planet:hover {
            transform: scale(1.2);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            z-index: 10;
        }

        .planet.active {
            animation: planet-pulse 2s infinite;
            box-shadow: 0 0 40px currentColor;
        }

        @keyframes planet-pulse {
            0%, 100% { box-shadow: 0 0 20px currentColor; }
            50% { box-shadow: 0 0 40px currentColor; }
        }

        /* æ˜Ÿçƒé¢œè‰² */
        .planet-2024 { background: radial-gradient(circle at 30% 30%, var(--planet-1), #8A2D52); color: var(--planet-1); }
        .planet-2025 { background: radial-gradient(circle at 30% 30%, var(--planet-2), #1A6E6A); color: var(--planet-2); }
        .planet-2026 { background: radial-gradient(circle at 30% 30%, var(--planet-3), #1E5A7A); color: var(--planet-3); }
        .planet-2027 { background: radial-gradient(circle at 30% 30%, var(--planet-4), #4A7D62); color: var(--planet-4); }
        .planet-2028 { background: radial-gradient(circle at 30% 30%, var(--planet-5), #A38B3A); color: var(--planet-5); }
        .planet-new { background: radial-gradient(circle at 30% 30%, #9D4EDD, #5A189A); color: #9D4EDD; }

        /* ä¸­å¤®å¤ªé˜³ */
        .central-sun {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, var(--star-color), #FF8C00);
            border-radius: 50%;
            box-shadow: 0 0 50px var(--star-color);
            animation: sun-pulse 4s infinite alternate;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            color: rgba(0, 0, 0, 0.7);
            cursor: pointer;
            z-index: 5;
        }

        @keyframes sun-pulse {
            0% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 50px var(--star-color); }
            100% { transform: translate(-50%, -50%) scale(1.1); box-shadow: 0 0 80px var(--star-color); }
        }

        @keyframes orbit-rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* è½¨è¿¹çº¿ */
        .trajectory-line {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-origin: 0 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            z-index: 1;
        }

        /* ä¿¡æ¯é¢æ¿ */
        .info-panel {
            position: fixed;
            right: -400px;
            top: 100px;
            width: 350px;
            height: calc(100vh - 150px);
            background: rgba(20, 20, 40, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px 0 0 20px;
            padding: 30px;
            border-left: 2px solid var(--star-color);
            transition: right 0.5s ease;
            z-index: 100;
            overflow-y: auto;
        }

        .info-panel.open {
            right: 0;
        }

        .close-panel {
            position: absolute;
            top: 15px;
            right: 20px;
            background: transparent;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .planet-detail {
            margin-top: 20px;
        }

        .detail-title {
            font-size: 2rem;
            color: var(--star-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .detail-subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--star-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 5px;
        }

        /* æ—¶é—´è½´ */
        .timeline-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(20, 20, 40, 0.9);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 50;
        }

        .timeline {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .timeline-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .timeline-year {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 1.2rem;
            transition: all 0.3s;
            margin-bottom: 10px;
        }

        .timeline-year.active {
            transform: scale(1.2);
            box-shadow: 0 0 20px currentColor;
        }

        .timeline-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* æ§åˆ¶é¢æ¿ */
        .control-panel {
            position: fixed;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 100;
        }

        .control-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(20, 20, 40, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--text-light);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s;
        }

        .control-btn:hover {
            border-color: var(--star-color);
            color: var(--star-color);
            transform: scale(1.1);
        }

        /* å“åº”å¼ */
        @media (max-width: 1024px) {
            .star-chart {
                height: 500px;
            }
            
            .main-title {
                font-size: 2.8rem;
            }
            
            .info-panel {
                width: 300px;
            }
        }

        @media (max-width: 768px) {
            .star-chart {
                height: 400px;
            }
            
            .main-title {
                font-size: 2.2rem;
            }
            
            .info-panel {
                width: 100%;
                height: 60vh;
                bottom: 0;
                top: auto;
                right: 0;
                border-radius: 20px 20px 0 0;
                transform: translateY(100%);
            }
            
            .info-panel.open {
                transform: translateY(0);
            }
            
            .control-panel {
                left: 10px;
                top: auto;
                bottom: 100px;
                transform: none;
                flex-direction: row;
            }
            
            .timeline {
                gap: 15px;
                overflow-x: auto;
                justify-content: flex-start;
                padding: 0 10px;
            }
        }
    </style>
</head>
<body>
    <!-- å®‡å®™èƒŒæ™¯ -->
    <div class="universe-bg" id="universeBg"></div>
    
    <!-- ç®€çº¦å¤´éƒ¨ -->
    <header class="simple-header">
        <div class="logo">
            <i class="fas fa-satellite logo-icon"></i>
            <span>æ˜Ÿçƒè½¨è¿¹</span>
        </div>
        <div class="nav-buttons">
            <button class="nav-btn" onclick="window.location.href='home.html'">
                <i class="fas fa-home"></i> è¿”å›é¦–é¡µ
            </button>
            <button class="nav-btn" id="resetViewBtn">
                <i class="fas fa-sync-alt"></i> é‡ç½®è§†å›¾
            </button>
        </div>
    </header>

    <!-- ä¸»å®¹å™¨ -->
    <main class="trajectory-container">
        <div class="title-section">
            <h1 class="main-title">ä½ çš„æˆé•¿æ˜Ÿç³»</h1>
            <p class="subtitle">æ¯é¢—æ˜Ÿçƒä»£è¡¨ä¸€å¹´çš„ä¸“æ³¨è½¨è¿¹ Â· æ¯åœˆè½¨é“è±¡å¾ä¸€æ®µæˆé•¿å‘¨æœŸ</p>
        </div>

        <!-- æ˜Ÿç›˜ä¸»è§†å›¾ -->
        <div class="star-chart" id="starChart">
            <div class="orbit-system" id="orbitSystem">
                <!-- è½¨é“å°†é€šè¿‡JSç”Ÿæˆ -->
            </div>
            
            <!-- è½¨è¿¹çº¿ -->
            <div class="trajectory-line" id="trajectoryLine" style="width: 0;"></div>
            
            <!-- ä¸­å¤®å¤ªé˜³ -->
            <div class="central-sun" id="centralSun">
                <i class="fas fa-user-astronaut"></i>
            </div>
        </div>
    </main>

    <!-- ä¿¡æ¯é¢æ¿ -->
    <div class="info-panel" id="infoPanel">
        <button class="close-panel" id="closePanel">
            <i class="fas fa-times"></i>
        </button>
        <div class="planet-detail" id="planetDetail">
            <!-- å†…å®¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

    <!-- æ§åˆ¶é¢æ¿ -->
    <div class="control-panel">
        <button class="control-btn" id="toggleOrbitsBtn" title="æ˜¾ç¤º/éšè—è½¨é“">
            <i class="fas fa-circle-notch"></i>
        </button>
        <button class="control-btn" id="zoomInBtn" title="æ”¾å¤§">
            <i class="fas fa-search-plus"></i>
        </button>
        <button class="control-btn" id="zoomOutBtn" title="ç¼©å°">
            <i class="fas fa-search-minus"></i>
        </button>
        <button class="control-btn" id="toggleTrajectoryBtn" title="æ˜¾ç¤ºè½¨è¿¹çº¿">
            <i class="fas fa-route"></i>
        </button>
        <button class="control-btn" id="autoRotateBtn" title="è‡ªåŠ¨æ—‹è½¬">
            <i class="fas fa-play"></i>
        </button>
    </div>

    <!-- æ—¶é—´è½´ -->
    <div class="timeline-bar">
        <div class="timeline" id="timeline">
            <!-- æ—¶é—´è½´é¡¹ç›®å°†é€šè¿‡JSç”Ÿæˆ -->
        </div>
    </div>

    <script type="module">
        // å¼•å…¥å·¥å…·ç±»
        import StorageManager from '../js/utils/storage.js';
        
        // åˆå§‹åŒ–å­˜å‚¨ç®¡ç†å™¨
        const storageManager = new StorageManager();
        
        // å°†storageManageræš´éœ²åˆ°å…¨å±€
        window.storageManager = storageManager;
        
        // ä»LocalStorageåŠ è½½çœŸå®æ•°æ®
        function loadPlanetData() {
            const planets = storageManager.getPlanets();
            const planetData = {};
            
            // è·å–å½“å‰å¹´ä»½
            const currentYear = new Date().getFullYear();
            
            // è½¬æ¢æ•°æ®æ ¼å¼
            planets.forEach(planet => {
                const year = planet.year.toString();
                
                // è®¡ç®—é‡Œç¨‹ç¢‘æ•°é‡
                const milestones = [];
                if (planet.meditationCompleted) milestones.push('å®Œæˆå†¥æƒ³å¼•å¯¼');
                if (planet.dreamFragmentsCompleted) milestones.push('è®¾å®šæ„¿æ™¯ç¢ç‰‡');
                if (planet.visionBoardCompleted) milestones.push('åˆ›å»ºæ„¿æ™¯æ¿');
                if (planet.focusHoursCompleted) milestones.push('æŠ•å…¥ä¸“æ³¨æ—¶å…‰');
                if (planet.nftMinted || (planet.nft && planet.nft.generated)) milestones.push('ç”Ÿæˆå¹´åº¦NFT');
                
                // æ ¹æ®å¹´ä»½åˆ†é…é¢œè‰²
                const yearColors = {
                    '2024': 'var(--planet-1)',
                    '2025': 'var(--planet-2)',
                    '2026': 'var(--planet-3)',
                    '2027': 'var(--planet-4)',
                    '2028': 'var(--planet-5)'
                };
                
                planetData[year] = {
                    name: `${year}å¹´åº¦æ˜Ÿçƒ`,
                    color: yearColors[year] || 'var(--planet-3)',
                    focusHours: planet.totalHours || 0,
                    totalHours: 1000, // ç›®æ ‡æ€»å°æ—¶æ•°
                    achievements: milestones.length,
                    milestones: milestones.length > 0 ? milestones : ['ç­‰å¾…å¼€å§‹'],
                    description: (planet.nftMinted || (planet.nft && planet.nft.generated)) ? 'å¹´åº¦NFTå·²ç”Ÿæˆ' : 
                                planet.focusHoursCompleted ? 'ä¸“æ³¨æ—¶å…‰æŠ•èµ„ä¸­' :
                                planet.visionBoardCompleted ? 'æ„¿æ™¯æ¿å·²åˆ›å»º' :
                                planet.dreamFragmentsCompleted ? 'æ„¿æ™¯ç¢ç‰‡å·²è®¾å®š' :
                                planet.meditationCompleted ? 'å†¥æƒ³å¼•å¯¼å·²å®Œæˆ' : 'ç­‰å¾…å¼€å§‹',
                    active: parseInt(year) === currentYear,
                    // ä¿å­˜åŸå§‹æ•°æ®ç”¨äºè·¯ç”±
                    _rawData: planet
                };
            });
            
            // å¦‚æœæ²¡æœ‰æ˜Ÿçƒï¼Œæ·»åŠ ä¸€ä¸ª"æ–°æ˜Ÿçƒ"é€‰é¡¹
            if (planets.length === 0) {
                planetData["new"] = {
                    name: "æ–°æ˜Ÿçƒ",
                    color: "#9D4EDD",
                    focusHours: 0,
                    totalHours: 1000,
                    achievements: 0,
                    milestones: ["ç­‰å¾…åˆ›å»º"],
                    description: "ç‚¹å‡»åˆ›å»ºæ–°çš„å¹´åº¦æ˜Ÿçƒ",
                    active: false
                };
            }
            
            return planetData;
        }
        
        // æ™ºèƒ½è·¯ç”±ï¼šæ ¹æ®æ˜Ÿçƒå®ŒæˆçŠ¶æ€è·³è½¬åˆ°å¯¹åº”é¡µé¢
        function navigateToPlanet(year) {
            if (year === "new") {
                // åˆ›å»ºæ–°æ˜Ÿçƒ
                window.location.href = 'home.html';
                return;
            }
            
            const planet = storageManager.getPlanet(parseInt(year));
            
            if (!planet) {
                showNotification('æ˜Ÿçƒä¸å­˜åœ¨', 'è¯·å…ˆåˆ›å»ºæ˜Ÿçƒ');
                return;
            }
            
            // æ™ºèƒ½è·¯ç”±é€»è¾‘
            if (planet.nftMinted || (planet.nft && planet.nft.generated)) {
                // NFTå·²ç”Ÿæˆ -> è·³è½¬åˆ°NFTé¡µé¢
                showNotification(`è¿›å…¥${year}æ˜Ÿçƒ`, 'æŸ¥çœ‹å¹´åº¦NFTçºªå¿µ');
                setTimeout(() => {
                    window.location.href = `NFT.html?year=${year}`;
                }, 500);
            } else if (planet.focusHoursCompleted) {
                // å·²å®Œæˆä¸“æ³¨æŠ•å…¥ -> è·³è½¬åˆ°ä¸“æ³¨æŠ•å…¥é¡µé¢
                showNotification(`è¿›å…¥${year}æ˜Ÿçƒ`, 'æŸ¥çœ‹ä¸“æ³¨æ—¶å…‰è®°å½•');
                setTimeout(() => {
                    window.location.href = `hoursputin.html?year=${year}`;
                }, 500);
            } else if (planet.visionBoardCompleted) {
                // å·²å®Œæˆæ„¿æ™¯æ¿ -> è·³è½¬åˆ°ä¸“æ³¨æŠ•å…¥é¡µé¢
                showNotification(`è¿›å…¥${year}æ˜Ÿçƒ`, 'å¼€å§‹æŠ•å…¥ä¸“æ³¨æ—¶å…‰');
                setTimeout(() => {
                    window.location.href = `hoursputin.html?year=${year}`;
                }, 500);
            } else if (planet.dreamFragmentsCompleted) {
                // å·²å®Œæˆæ„¿æ™¯ç¢ç‰‡ -> è·³è½¬åˆ°æ„¿æ™¯æ¿é¡µé¢
                showNotification(`è¿›å…¥${year}æ˜Ÿçƒ`, 'ç»§ç»­åˆ›å»ºæ„¿æ™¯æ¿');
                setTimeout(() => {
                    window.location.href = `visionboard.html?year=${year}`;
                }, 500);
            } else if (planet.meditationCompleted) {
                // å·²å®Œæˆå†¥æƒ³ -> è·³è½¬åˆ°æ„¿æ™¯ç¢ç‰‡é¡µé¢
                showNotification(`è¿›å…¥${year}æ˜Ÿçƒ`, 'ç»§ç»­è®¾å®šæ„¿æ™¯ç¢ç‰‡');
                setTimeout(() => {
                    window.location.href = `dreamfragment.html?year=${year}`;
                }, 500);
            } else {
                // æœªå®Œæˆå†¥æƒ³ -> è·³è½¬åˆ°å†¥æƒ³å¼•å¯¼é¡µé¢
                showNotification(`è¿›å…¥${year}æ˜Ÿçƒ`, 'å¼€å§‹å†¥æƒ³å¼•å¯¼');
                setTimeout(() => {
                    window.location.href = `meditation.html?year=${year}`;
                }, 500);
            }
        }
        
        // åŠ è½½çœŸå®æ•°æ®
        const planetData = loadPlanetData();
        
        // æ¨¡æ‹Ÿæ•°æ® - ç”¨æˆ·çš„æ˜Ÿçƒè½¨è¿¹ï¼ˆä½œä¸ºåå¤‡ï¼‰
        const fallbackPlanetData = {
            "2024": {
                name: "å¥åº·ä¹‹æ—…",
                color: "var(--planet-1)",
                focusHours: 320,
                totalHours: 1000,
                achievements: 15,
                milestones: ["å®Œæˆé©¬æ‹‰æ¾è®­ç»ƒ", "å»ºç«‹æ¯æ—¥å†¥æƒ³ä¹ æƒ¯", "é˜…è¯»12æœ¬å¥åº·ä¹¦ç±"],
                description: "ä¸“æ³¨äºèº«å¿ƒå¥åº·çš„åŸºç¡€å¹´"
            },
            "2025": {
                name: "æŠ€èƒ½æˆé•¿",
                color: "var(--planet-2)",
                focusHours: 580,
                totalHours: 1000,
                achievements: 22,
                milestones: ["æŒæ¡Webå¼€å‘", "å­¦ä¹ æ•°æ®ç§‘å­¦", "å®Œæˆ3ä¸ªå¼€æºé¡¹ç›®"],
                description: "ä¸“ä¸šæŠ€èƒ½æå‡ä¸çŸ¥è¯†æ‰©å±•"
            },
            "2026": {
                name: "å½“å‰å¹´åº¦",
                color: "var(--planet-3)",
                focusHours: 240,
                totalHours: 1000,
                achievements: 8,
                milestones: ["å¯åŠ¨VisionFocusé¡¹ç›®", "å»ºç«‹æ¯æ—¥ä¸“æ³¨ä¹ æƒ¯", "å®Œæˆäº§å“åŸå‹"],
                description: "æ„å»ºä¸ªäººæˆé•¿ç³»ç»Ÿä¸å®‡å®™å¯è§†åŒ–",
                active: true
            },
            "2027": {
                name: "æœªæ¥è§„åˆ’",
                color: "var(--planet-4)",
                focusHours: 0,
                totalHours: 1000,
                achievements: 0,
                milestones: ["å¾…è§„åˆ’"],
                description: "æœªæ¥ä¸€å¹´çš„æˆé•¿ç©ºé—´"
            },
            "2028": {
                name: "æœªæ¥æ„¿æ™¯",
                color: "var(--planet-5)",
                focusHours: 0,
                totalHours: 1000,
                achievements: 0,
                milestones: ["å¾…è§„åˆ’"],
                description: "é•¿æœŸæ„¿æ™¯ä¸ç›®æ ‡"
            },
            "new": {
                name: "æ–°æ˜Ÿçƒ",
                color: "#9D4EDD",
                focusHours: 0,
                totalHours: 1000,
                achievements: 0,
                milestones: ["ç­‰å¾…åˆ›å»º"],
                description: "ç‚¹å‡»åˆ›å»ºæ–°çš„å¹´åº¦æ˜Ÿçƒ"
            }
        };
        
        // å¦‚æœæ²¡æœ‰çœŸå®æ•°æ®ï¼Œä½¿ç”¨åå¤‡æ•°æ®
        const finalPlanetData = Object.keys(planetData).length > 0 ? planetData : fallbackPlanetData;
        
        // å°†æ•°æ®æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸ
        window.finalPlanetData = finalPlanetData;
        window.navigateToPlanet = navigateToPlanet;

        // é…ç½®
        const config = {
            orbitCount: 5,
            minOrbitRadius: 150,
            orbitSpacing: 100,
            planetSizes: [70, 65, 80, 65, 70, 75], // å¯¹åº”æ¯é¢—æ˜Ÿçƒçš„å¤§å°
            orbitSpeeds: [120, 100, 80, 100, 120], // è½¨é“æ—‹è½¬é€Ÿåº¦ï¼ˆç§’ï¼‰
            showOrbits: true,
            showTrajectory: false,
            autoRotate: false,
            zoomLevel: 1
        };

        // çŠ¶æ€
        let state = {
            selectedPlanet: "2026",
            planets: [],
            orbits: [],
            rotationAngle: 0
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆ›å»ºå®‡å®™èƒŒæ™¯
            createUniverseBg();
            
            // åˆå§‹åŒ–è½¨é“å’Œæ˜Ÿçƒ
            initOrbitSystem();
            
            // åˆå§‹åŒ–æ—¶é—´è½´
            initTimeline();
            
            // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
            setupEventListeners();
            
            // é»˜è®¤é€‰æ‹©å½“å‰å¹´ä»½ï¼ˆå¦‚æœæœ‰æ•°æ®ï¼‰
            const data = window.finalPlanetData || finalPlanetData;
            const currentYear = new Date().getFullYear().toString();
            if (data[currentYear]) {
                selectPlanet(currentYear);
            } else if (Object.keys(data).length > 0) {
                // é€‰æ‹©ç¬¬ä¸€ä¸ªå¯ç”¨çš„å¹´ä»½
                const firstYear = Object.keys(data).find(y => y !== "new");
                if (firstYear) {
                    selectPlanet(firstYear);
                }
            }
            
            // å¦‚æœæ˜¯è‡ªåŠ¨æ—‹è½¬ï¼Œå¼€å§‹åŠ¨ç”»
            if (config.autoRotate) {
                startAutoRotation();
            }
        });

        // åˆ›å»ºå®‡å®™èƒŒæ™¯
        function createUniverseBg() {
            const universeBg = document.getElementById('universeBg');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // éšæœºä½ç½®
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                // éšæœºå¤§å°
                const size = Math.random() * 2 + 0.5;
                
                // éšæœºé—ªçƒå»¶è¿Ÿ
                const delay = Math.random() * 4;
                const duration = 2 + Math.random() * 3;
                
                star.style.left = `${x}%`;
                star.style.top = `${y}%`;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.animationDelay = `${delay}s`;
                star.style.animationDuration = `${duration}s`;
                
                universeBg.appendChild(star);
            }
        }

        // åˆå§‹åŒ–è½¨é“ç³»ç»Ÿ
        function initOrbitSystem() {
            const orbitSystem = document.getElementById('orbitSystem');
            const years = Object.keys(window.finalPlanetData || finalPlanetData);
            
            // åˆ›å»ºè½¨é“å’Œæ˜Ÿçƒ
            years.forEach((year, index) => {
                // è½¨é“åŠå¾„
                const orbitRadius = config.minOrbitRadius + (index * config.orbitSpacing);
                
                // åˆ›å»ºè½¨é“
                const orbit = document.createElement('div');
                orbit.className = 'orbit';
                orbit.style.width = `${orbitRadius * 2}px`;
                orbit.style.height = `${orbitRadius * 2}px`;
                orbit.style.animationDuration = `${config.orbitSpeeds[index] || 100}s`;
                
                // è½¨é“æ ‡ç­¾
                const orbitLabel = document.createElement('div');
                orbitLabel.className = 'orbit-label';
                orbitLabel.textContent = year === "new" ? "æ–°è½¨é“" : `${year}è½¨é“`;
                orbit.appendChild(orbitLabel);
                
                // åˆ›å»ºæ˜Ÿçƒ
                const planet = document.createElement('div');
                planet.className = `planet planet-${year}`;
                planet.id = `planet-${year}`;
                planet.dataset.year = year;
                
                // æ˜Ÿçƒå¤§å°
                const planetSize = config.planetSizes[index] || 70;
                planet.style.width = `${planetSize}px`;
                planet.style.height = `${planetSize}px`;
                
                // æ˜Ÿçƒä½ç½®ï¼ˆåœ¨è½¨é“ä¸Šï¼‰
                const angle = (index * 60) * (Math.PI / 180); // æ¯é¢—æ˜Ÿçƒé—´éš”60åº¦
                const planetX = orbitRadius * Math.cos(angle);
                const planetY = orbitRadius * Math.sin(angle);
                
                planet.style.left = `calc(50% + ${planetX}px)`;
                planet.style.top = `calc(50% + ${planetY}px)`;
                planet.style.transform = `translate(-50%, -50%)`;
                
                // æ˜Ÿçƒæ ‡ç­¾
                planet.textContent = year === "new" ? "NEW" : year;
                
                // æ·»åŠ çŠ¶æ€å¾½ç« ï¼ˆå¦‚æœæœ‰NFTï¼Œæ˜¾ç¤ºç‰¹æ®Šæ ‡è®°ï¼‰
                const planetInfo = (window.finalPlanetData || finalPlanetData)[year];
                if (planetInfo && planetInfo._rawData && 
                    (planetInfo._rawData.nftMinted || (planetInfo._rawData.nft && planetInfo._rawData.nft.generated))) {
                    const nftBadge = document.createElement('div');
                    nftBadge.style.cssText = `
                        position: absolute;
                        top: -10px;
                        right: -10px;
                        width: 20px;
                        height: 20px;
                        background: #FFD700;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 10px;
                        box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
                        z-index: 10;
                    `;
                    nftBadge.innerHTML = '<i class="fas fa-gem" style="color: #000;"></i>';
                    planet.appendChild(nftBadge);
                }
                
                // æ·»åŠ åˆ°è½¨é“
                orbit.appendChild(planet);
                
                // ä¿å­˜å¼•ç”¨
                state.orbits.push(orbit);
                state.planets.push({element: planet, year: year, angle: angle, radius: orbitRadius});
                
                // æ·»åŠ åˆ°DOM
                orbitSystem.appendChild(orbit);
            });
            
            // æ›´æ–°è½¨é“æ˜¾ç¤º
            updateOrbitVisibility();
        }

        // åˆå§‹åŒ–æ—¶é—´è½´
        function initTimeline() {
            const timeline = document.getElementById('timeline');
            const years = Object.keys(window.finalPlanetData || finalPlanetData);
            
            years.forEach(year => {
                if (year === "new") return; // æ–°æ˜Ÿçƒä¸åœ¨æ—¶é—´è½´æ˜¾ç¤º
                
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                timelineItem.dataset.year = year;
                
                const data = (window.finalPlanetData || finalPlanetData)[year];
                const yearCircle = document.createElement('div');
                yearCircle.className = 'timeline-year';
                yearCircle.style.backgroundColor = data.color;
                yearCircle.textContent = year;
                
                const yearLabel = document.createElement('div');
                yearLabel.className = 'timeline-label';
                yearLabel.textContent = data.name;
                
                timelineItem.appendChild(yearCircle);
                timelineItem.appendChild(yearLabel);
                timeline.appendChild(timelineItem);
                
                // ç‚¹å‡»äº‹ä»¶ - ä½¿ç”¨æ™ºèƒ½è·¯ç”±
                timelineItem.addEventListener('click', () => {
                    navigateToPlanet(year);
                });
            });
        }

        // é€‰æ‹©æ˜Ÿçƒ
        function selectPlanet(year) {
            // æ›´æ–°é€‰ä¸­çŠ¶æ€
            state.selectedPlanet = year;
            
            // æ›´æ–°æ˜Ÿçƒæ¿€æ´»çŠ¶æ€
            state.planets.forEach(planet => {
                const isActive = planet.year === year;
                planet.element.classList.toggle('active', isActive);
            });
            
            // æ›´æ–°æ—¶é—´è½´
            document.querySelectorAll('.timeline-year').forEach(el => {
                const yearCircle = el;
                const parent = yearCircle.parentElement;
                const isActive = parent.dataset.year === year;
                yearCircle.classList.toggle('active', isActive);
            });
            
            // æ›´æ–°ä¿¡æ¯é¢æ¿
            updateInfoPanel(year);
            
            // æ˜¾ç¤ºä¿¡æ¯é¢æ¿
            document.getElementById('infoPanel').classList.add('open');
            
            // æ˜¾ç¤ºè½¨è¿¹çº¿
            if (config.showTrajectory) {
                drawTrajectoryToPlanet(year);
            }
        }

        // å±…ä¸­æ˜¾ç¤ºé€‰ä¸­æ˜Ÿçƒ
        function centerPlanet(year) {
            const planet = state.planets.find(p => p.year === year);
            if (!planet) return;
            
            // è®¡ç®—ä½¿è¯¥æ˜Ÿçƒä½äºè§†å›¾ä¸­å¿ƒçš„åç§»
            const starChart = document.getElementById('starChart');
            const chartWidth = starChart.offsetWidth;
            const chartHeight = starChart.offsetHeight;
            
            // è®¡ç®—æ˜Ÿçƒç›¸å¯¹äºè½¨é“ç³»ç»Ÿä¸­å¿ƒçš„ä½ç½®
            const planetX = planet.radius * Math.cos(planet.angle);
            const planetY = planet.radius * Math.sin(planet.angle);
            
            // è®¡ç®—éœ€è¦ç§»åŠ¨è½¨é“ç³»ç»Ÿçš„è·ç¦»ï¼Œä½¿æ˜Ÿçƒå±…ä¸­
            const offsetX = -planetX;
            const offsetY = -planetY;
            
            // åº”ç”¨å˜æ¢
            const orbitSystem = document.getElementById('orbitSystem');
            orbitSystem.style.transform = `translate(calc(-50% + ${offsetX}px), calc(-50% + ${offsetY}px))`;
        }

        // æ›´æ–°ä¿¡æ¯é¢æ¿
        function updateInfoPanel(year) {
            const data = (window.finalPlanetData || finalPlanetData)[year];
            if (!data) return;
            const panel = document.getElementById('planetDetail');
            
            // è®¡ç®—è¿›åº¦ç™¾åˆ†æ¯”
            const progressPercent = (data.focusHours / data.totalHours) * 100;
            
            // ç”ŸæˆHTML
            panel.innerHTML = `
                <h2 class="detail-title">
                    <i class="fas fa-globe-americas"></i>
                    ${year === "new" ? "æ–°æ˜Ÿçƒ" : year + "æ˜Ÿçƒ"}
                </h2>
                <p class="detail-subtitle">${data.name} Â· ${data.description}</p>
                
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${progressPercent}%; background: ${data.color};"></div>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                    <span>${data.focusHours} / ${data.totalHours} å°æ—¶</span>
                    <span>${progressPercent.toFixed(1)}% å®Œæˆ</span>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value">${data.focusHours}</div>
                        <div class="stat-label">ä¸“æ³¨å°æ—¶</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${data.achievements}</div>
                        <div class="stat-label">æˆå°±æ•°</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${year === "new" ? "?" : new Date().getFullYear() - parseInt(year)}</div>
                        <div class="stat-label">è·ç¦»ç°åœ¨</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">${data.milestones.length}</div>
                        <div class="stat-label">é‡Œç¨‹ç¢‘</div>
                    </div>
                </div>
                
                <h3 style="margin-top: 30px; margin-bottom: 15px; color: var(--star-color);">
                    <i class="fas fa-flag-checkered"></i> ä¸»è¦é‡Œç¨‹ç¢‘
                </h3>
                <ul style="list-style-type: none; padding-left: 0;">
                    ${data.milestones.map(milestone => `
                        <li style="padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <i class="fas fa-check-circle" style="color: ${data.color}; margin-right: 10px;"></i>
                            ${milestone}
                        </li>
                    `).join('')}
                </ul>
                
                ${year !== "new" ? `
                    <button onclick="navigateToPlanet('${year}')" style="margin-top: 30px; width: 100%; padding: 15px; background: ${data.color}; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; transition: all 0.3s;">
                        <i class="fas fa-rocket"></i> ${data._rawData && (data._rawData.nftMinted || (data._rawData.nft && data._rawData.nft.generated)) ? 'æŸ¥çœ‹å¹´åº¦NFT' : 'è¿›å…¥å¹´åº¦ç©ºé—´'}
                    </button>
                ` : ''}
                
                ${year === "new" ? `
                    <button onclick="window.location.href='home.html'" style="margin-top: 30px; width: 100%; padding: 15px; background: ${data.color}; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer;">
                        <i class="fas fa-plus"></i> åˆ›å»ºæ–°å¹´åº¦æ˜Ÿçƒ
                    </button>
                ` : ''}
            `;
        }

        // ç»˜åˆ¶è½¨è¿¹çº¿
        function drawTrajectoryToPlanet(year) {
            const trajectoryLine = document.getElementById('trajectoryLine');
            const centralSun = document.getElementById('centralSun');
            const planet = document.getElementById(`planet-${year}`);
            
            if (!planet) return;
            
            // è·å–ä¸­å¤®å¤ªé˜³å’Œæ˜Ÿçƒçš„ä½ç½®
            const sunRect = centralSun.getBoundingClientRect();
            const planetRect = planet.getBoundingClientRect();
            
            // è®¡ç®—ç›¸å¯¹ä½ç½®
            const sunX = sunRect.left + sunRect.width / 2;
            const sunY = sunRect.top + sunRect.height / 2;
            const planetX = planetRect.left + planetRect.width / 2;
            const planetY = planetRect.top + planetRect.height / 2;
            
            // è®¡ç®—è·ç¦»å’Œè§’åº¦
            const deltaX = planetX - sunX;
            const deltaY = planetY - sunY;
            const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
            const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
            
            // è®¾ç½®è½¨è¿¹çº¿
            trajectoryLine.style.width = `${distance}px`;
            trajectoryLine.style.transform = `rotate(${angle}deg)`;
            trajectoryLine.style.left = `${sunX}px`;
            trajectoryLine.style.top = `${sunY}px`;
            trajectoryLine.style.display = 'block';
        }

        // æ›´æ–°è½¨é“å¯è§æ€§
        function updateOrbitVisibility() {
            state.orbits.forEach(orbit => {
                orbit.style.display = config.showOrbits ? 'block' : 'none';
            });
            
            document.getElementById('toggleOrbitsBtn').innerHTML = 
                config.showOrbits ? '<i class="fas fa-eye-slash"></i>' : '<i class="fas fa-eye"></i>';
        }

        // æ›´æ–°è½¨è¿¹çº¿å¯è§æ€§
        function updateTrajectoryVisibility() {
            const trajectoryLine = document.getElementById('trajectoryLine');
            trajectoryLine.style.display = config.showTrajectory ? 'block' : 'none';
            
            document.getElementById('toggleTrajectoryBtn').innerHTML = 
                config.showTrajectory ? '<i class="fas fa-route"></i>' : '<i class="fas fa-route"></i>';
            
            // å¦‚æœå¼€å¯è½¨è¿¹çº¿ï¼Œç»˜åˆ¶åˆ°å½“å‰é€‰ä¸­æ˜Ÿçƒ
            if (config.showTrajectory && state.selectedPlanet) {
                drawTrajectoryToPlanet(state.selectedPlanet);
            }
        }

        // å¼€å§‹è‡ªåŠ¨æ—‹è½¬
        function startAutoRotation() {
            if (state.rotationInterval) clearInterval(state.rotationInterval);
            
            state.rotationInterval = setInterval(() => {
                state.rotationAngle += 0.5;
                if (state.rotationAngle >= 360) state.rotationAngle = 0;
                
                // åº”ç”¨æ—‹è½¬åˆ°æ‰€æœ‰è½¨é“
                state.orbits.forEach((orbit, index) => {
                    const speedMultiplier = 1 + (index * 0.2);
                    const rotation = (state.rotationAngle * speedMultiplier) % 360;
                    orbit.style.transform = `translate(-50%, -50%) rotate(${rotation}deg)`;
                });
            }, 50);
            
            document.getElementById('autoRotateBtn').innerHTML = '<i class="fas fa-pause"></i>';
            config.autoRotate = true;
        }

        // åœæ­¢è‡ªåŠ¨æ—‹è½¬
        function stopAutoRotation() {
            if (state.rotationInterval) {
                clearInterval(state.rotationInterval);
                state.rotationInterval = null;
            }
            
            document.getElementById('autoRotateBtn').innerHTML = '<i class="fas fa-play"></i>';
            config.autoRotate = false;
        }

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // æ˜Ÿçƒç‚¹å‡»äº‹ä»¶ - ä½¿ç”¨æ™ºèƒ½è·¯ç”±
            state.planets.forEach(planet => {
                planet.element.addEventListener('click', (e) => {
                    e.stopPropagation();
                    // å…ˆæ˜¾ç¤ºé€‰ä¸­çŠ¶æ€
                    selectPlanet(planet.year);
                    // ç„¶åæ™ºèƒ½è·¯ç”±
                    navigateToPlanet(planet.year);
                });
            });
            
            // ä¸­å¤®å¤ªé˜³ç‚¹å‡»äº‹ä»¶
            document.getElementById('centralSun').addEventListener('click', () => {
                // é‡ç½®è§†å›¾åˆ°ä¸­å¿ƒ
                const orbitSystem = document.getElementById('orbitSystem');
                orbitSystem.style.transform = `translate(-50%, -50%)`;
                
                // é€‰æ‹©å½“å‰å¹´ä»½ï¼ˆå¦‚æœæœ‰ï¼‰
                const data = window.finalPlanetData || finalPlanetData;
                const currentYear = new Date().getFullYear().toString();
                if (data[currentYear]) {
                    selectPlanet(currentYear);
                } else if (Object.keys(data).length > 0) {
                    const firstYear = Object.keys(data).find(y => y !== "new");
                    if (firstYear) selectPlanet(firstYear);
                }
                
                // æ˜¾ç¤ºé€šçŸ¥
                showNotification("â˜€ï¸ å›åˆ°å®‡å®™ä¸­å¿ƒ Â· ä½ æ˜¯æ‰€æœ‰æ˜Ÿçƒçš„å¼•åŠ›æº");
            });
            
            // å…³é—­ä¿¡æ¯é¢æ¿
            document.getElementById('closePanel').addEventListener('click', () => {
                document.getElementById('infoPanel').classList.remove('open');
            });
            
            // æ§åˆ¶æŒ‰é’®äº‹ä»¶
            document.getElementById('toggleOrbitsBtn').addEventListener('click', () => {
                config.showOrbits = !config.showOrbits;
                updateOrbitVisibility();
            });
            
            document.getElementById('toggleTrajectoryBtn').addEventListener('click', () => {
                config.showTrajectory = !config.showTrajectory;
                updateTrajectoryVisibility();
            });
            
            document.getElementById('autoRotateBtn').addEventListener('click', () => {
                if (config.autoRotate) {
                    stopAutoRotation();
                } else {
                    startAutoRotation();
                }
            });
            
            document.getElementById('zoomInBtn').addEventListener('click', () => {
                config.zoomLevel = Math.min(config.zoomLevel + 0.1, 2);
                updateZoom();
            });
            
            document.getElementById('zoomOutBtn').addEventListener('click', () => {
                config.zoomLevel = Math.max(config.zoomLevel - 0.1, 0.5);
                updateZoom();
            });
            
            document.getElementById('resetViewBtn').addEventListener('click', resetView);
            
            // ç‚¹å‡»èƒŒæ™¯å…³é—­ä¿¡æ¯é¢æ¿
            document.addEventListener('click', (e) => {
                const infoPanel = document.getElementById('infoPanel');
                if (!infoPanel.contains(e.target) && !e.target.closest('.planet')) {
                    infoPanel.classList.remove('open');
                }
            });
        }

        // æ›´æ–°ç¼©æ”¾
        function updateZoom() {
            const orbitSystem = document.getElementById('orbitSystem');
            orbitSystem.style.transform = `translate(-50%, -50%) scale(${config.zoomLevel})`;
        }

        // é‡ç½®è§†å›¾
        function resetView() {
            // é‡ç½®ç¼©æ”¾
            config.zoomLevel = 1;
            updateZoom();
            
            // é‡ç½®è½¨é“ä½ç½®
            const orbitSystem = document.getElementById('orbitSystem');
            orbitSystem.style.transform = `translate(-50%, -50%)`;
            
            // åœæ­¢è‡ªåŠ¨æ—‹è½¬
            stopAutoRotation();
            
            // é€‰æ‹©å½“å‰å¹´ä»½ï¼ˆå¦‚æœæœ‰ï¼‰
            const data = window.finalPlanetData || finalPlanetData;
            const currentYear = new Date().getFullYear().toString();
            if (data[currentYear]) {
                selectPlanet(currentYear);
            } else if (Object.keys(data).length > 0) {
                const firstYear = Object.keys(data).find(y => y !== "new");
                if (firstYear) selectPlanet(firstYear);
            }
            
            showNotification("ğŸ”„ è§†å›¾å·²é‡ç½® Â· å›åˆ°åˆå§‹çŠ¶æ€");
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: rgba(20, 20, 40, 0.9);
                color: white;
                padding: 12px 20px;
                border-radius: 10px;
                border-left: 4px solid var(--star-color);
                z-index: 1000;
                animation: slideInRight 0.3s ease, fadeOut 0.3s ease 2.7s forwards;
                backdrop-filter: blur(10px);
                max-width: 300px;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <i class="fas fa-info-circle" style="color: var(--star-color);"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // æ·»åŠ åŠ¨ç”»æ ·å¼
            if (!document.getElementById('notification-styles')) {
                const style = document.createElement('style');
                style.id = 'notification-styles';
                style.textContent = `
                    @keyframes slideInRight {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                    @keyframes fadeOut {
                        from { opacity: 1; }
                        to { opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // 3ç§’åç§»é™¤
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
        // navigateToPlanetå·²åœ¨æ¨¡å—é¡¶éƒ¨æš´éœ²åˆ°å…¨å±€
    </script>
</body>
</html>